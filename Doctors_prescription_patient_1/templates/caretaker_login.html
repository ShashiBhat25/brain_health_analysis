{% extends "base.html" %}

{% block content %}
<!-- Crazy Holographic Background -->
<div class="holographic-bg">
    <div class="holo-layer holo-layer-1"></div>
    <div class="holo-layer holo-layer-2"></div>
    <div class="holo-layer holo-layer-3"></div>
    <div class="particles" id="particles"></div>
    <canvas id="neuralCanvas"></canvas>
</div>

<div class="row justify-content-center" style="position: relative; z-index: 10;">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h4 class="mb-0">Caretaker Login</h4>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-success">Login</button>
                    <a href="{{ url_for('caretaker_signup') }}" class="btn btn-link">New Caretaker? Sign up</a>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

<styl
e>
.holographic-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    overflow: hidden;
    background: linear-gradient(45deg, #0a0a1a 0%, #1a0a2e 25%, #16213e 50%, #0f3460 75%, #0a0a1a 100%);
}

.holo-layer {
    position: absolute;
    width: 200%;
    height: 200%;
    top: -50%;
    left: -50%;
    opacity: 0.3;
    mix-blend-mode: screen;
    animation: rotate 20s linear infinite;
}

.holo-layer-1 {
    background: radial-gradient(circle at 30% 50%, #ff00ff 0%, transparent 50%),
                radial-gradient(circle at 70% 50%, #00ffff 0%, transparent 50%);
    animation-duration: 15s;
}

.holo-layer-2 {
    background: radial-gradient(circle at 50% 30%, #00ff88 0%, transparent 50%),
                radial-gradient(circle at 50% 70%, #ff0088 0%, transparent 50%);
    animation-duration: 20s;
    animation-direction: reverse;
}

.holo-layer-3 {
    background: radial-gradient(circle at 20% 80%, #ffff00 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, #ff00aa 0%, transparent 50%);
    animation-duration: 25s;
}

@keyframes rotate {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.2); }
    100% { transform: rotate(360deg) scale(1); }
}

.particles {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
}

.particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: radial-gradient(circle, #fff 0%, transparent 70%);
    border-radius: 50%;
    animation: float 3s ease-in-out infinite;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.8),
                0 0 20px rgba(0, 255, 255, 0.6),
                0 0 30px rgba(255, 0, 255, 0.4);
}

@keyframes float {
    0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(-100vh) translateX(50px); opacity: 0; }
}

#neuralCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.4;
}

.card {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37),
                0 0 40px rgba(0, 255, 255, 0.2),
                0 0 60px rgba(255, 0, 255, 0.1);
}

.gradient-text {
    animation: glow 2s ease-in-out infinite alternate;
}

@keyframes glow {
    from {
        text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #00ffff, 0 0 20px #00ffff;
    }
    to {
        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #ff00ff, 0 0 40px #ff00ff;
    }
}

.btn:hover {
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.6),
                0 0 40px rgba(255, 0, 255, 0.4);
    transform: translateY(-2px);
}
</style>

<script>
function createParticles() {
    const container = document.getElementById('particles');
    const particleCount = 50;
    
    for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 3 + 's';
        particle.style.animationDuration = (Math.random() * 3 + 2) + 's';
        container.appendChild(particle);
    }
}

function initNeuralNetwork() {
    const canvas = document.getElementById('neuralCanvas');
    const ctx = canvas.getContext('2d');
    
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    
    const nodes = [];
    const nodeCount = 80;
    let mouse = { x: canvas.width / 2, y: canvas.height / 2 };
    
    for (let i = 0; i < nodeCount; i++) {
        nodes.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * 0.5,
            vy: (Math.random() - 0.5) * 0.5,
            radius: Math.random() * 2 + 1
        });
    }
    
    canvas.addEventListener('mousemove', (e) => {
        mouse.x = e.clientX;
        mouse.y = e.clientY;
    });
    
    canvas.addEventListener('touchmove', (e) => {
        e.preventDefault();
        mouse.x = e.touches[0].clientX;
        mouse.y = e.touches[0].clientY;
    });
    
    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        nodes.forEach((node, i) => {
            node.x += node.vx;
            node.y += node.vy;
            
            if (node.x < 0 || node.x > canvas.width) node.vx *= -1;
            if (node.y < 0 || node.y > canvas.height) node.vy *= -1;
            
            const dx = mouse.x - node.x;
            const dy = mouse.y - node.y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            
            if (dist < 200) {
                node.vx += dx * 0.00005;
                node.vy += dy * 0.00005;
            }
            
            ctx.beginPath();
            ctx.arc(node.x, node.y, node.radius, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(0, 255, 255, ${0.8 - dist / 400})`;
            ctx.fill();
            
            nodes.forEach((otherNode, j) => {
                if (i !== j) {
                    const dx2 = otherNode.x - node.x;
                    const dy2 = otherNode.y - node.y;
                    const dist2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);
                    
                    if (dist2 < 150) {
                        ctx.beginPath();
                        ctx.moveTo(node.x, node.y);
                        ctx.lineTo(otherNode.x, otherNode.y);
                        ctx.strokeStyle = `rgba(255, 0, 255, ${0.2 - dist2 / 750})`;
                        ctx.lineWidth = 0.5;
                        ctx.stroke();
                    }
                }
            });
        });
        
        requestAnimationFrame(animate);
    }
    
    animate();
    
    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });
}

document.addEventListener('DOMContentLoaded', () => {
    createParticles();
    initNeuralNetwork();
});
</script>
